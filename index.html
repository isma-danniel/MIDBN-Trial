<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MIDBN.Timepieces</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&family=Rajdhani:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  <h1>MIDBN.Timepieces</h1>
  <p>Make every second precious</p>
</header>

<input type="text" id="search" placeholder="Search watches..." onkeyup="searchWatch()">

<select id="sort" onchange="sortWatches()">
  <option value="">Sort by price</option>
  <option value="low">Low ‚Üí High</option>
  <option value="high">High ‚Üí Low</option>
</select>

<nav>
  <button onclick="filterWatches('all', this)" class="active">All</button>
  <button onclick="filterWatches('men', this)">Men</button>
  <button onclick="filterWatches('women', this)">Women</button>
  <button onclick="filterWatches('couple', this)">Couple</button>
  <button onclick="filterWatches('promo', this)">Defect</button>
</nav>

<section class="catalogue" id="catalogue"></section>

<section class="trust">
  ‚úîÔ∏è 100% working watches ‚Ä¢ ‚úîÔ∏è Tested before delivery ‚Ä¢ ‚úîÔ∏è Fast WhatsApp response
</section>

<footer>
  <p>¬© MIDBN.Timepieces</p>
</footer>

<!-- PRODUCT MODAL -->
<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">√ó</span>
    <img id="modalImg">
    <h2 id="modalName"></h2>
    <p id="modalPrice"></p>
    <p id="modalDesc"></p>
    <a id="modalWA" class="wa" target="_blank">ORDER VIA WHATSAPP</a>
  </div>
</div>

<script>
const catalogue = document.getElementById("catalogue");
let currentCategory = "all";

/* CREATE CARD */
function createWatch(category, img, name, price, desc, badge="", badgeType=""){
  const div = document.createElement("div");
  div.className = `watch-card ${category}`;
  div.dataset.name = name.toLowerCase();
  div.dataset.price = price;

  div.innerHTML = `
    ${badge ? `<span class="badge ${badgeType}">${badge}</span>` : ""}
    <img src="images/${img}" alt="${name}" loading="lazy">
    <h3>${name}</h3>
    <p class="price">$${price}</p>
    <p>${desc}</p>
  `;

  div.onclick = () => openModal(img, name, price, desc);
  catalogue.appendChild(div);
}

/* PRODUCTS */
for(let i=1;i<=50;i++){
  createWatch("men",`men-${i}.png`,`Men Watch ${i}`,25,"Quartz ‚Ä¢ Stainless Steel",
    i<=5?"NEW":"", "new");
}

for(let i=1;i<=50;i++){
  createWatch("women",`women-${i}.png`,`Women Watch ${i}`,22,"Elegant ‚Ä¢ Lightweight",
    i<=5?"BEST":"", "best");
}

for(let i=1;i<=5;i++){
  createWatch("couple",`couple-${i}.png`,`Couple Watch Set ${i}`,45,"Matching Gift Set",
    "LIMITED","limited");
}

for(let i=1;i<=10;i++){
  createWatch("promo",`promo-${i}.png`,`Grade A Watch ${i}`,15,"Minor defect ‚Ä¢ Fully working",
    "DEFECT");
}

/* FILTER + SEARCH */
function applyFilters(){
  const q = document.getElementById("search").value.toLowerCase();
  document.querySelectorAll(".watch-card").forEach(card=>{
    const catMatch = currentCategory==="all" || card.classList.contains(currentCategory);
    const searchMatch = card.dataset.name.includes(q);
    card.style.display = (catMatch && searchMatch) ? "block" : "none";
  });
}

function filterWatches(cat, btn){
  currentCategory = cat;
  document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
  applyFilters();
}

function searchWatch(){ applyFilters(); }

/* SORT */
function sortWatches(){
  const order = document.getElementById("sort").value;
  const cards = Array.from(document.querySelectorAll(".watch-card"));
  cards.sort((a,b)=>{
    return order==="low"
      ? a.dataset.price - b.dataset.price
      : b.dataset.price - a.dataset.price;
  });
  cards.forEach(c=>catalogue.appendChild(c));
}

/* MODAL */
function openModal(img,name,price,desc){
  modalImg.src = `images/${img}`;
  modalName.innerText = name;
  modalPrice.innerText = `$${price}`;
  modalDesc.innerText = desc;

  const msg = `Hi MIDBN.Timepieces üëã
I'm interested in:
‚Ä¢ ${name}
‚Ä¢ Price: $${price}

Is this available today?`;

  modalWA.href = `https://wa.me/6738908960?text=${encodeURIComponent(msg)}`;
  modal.style.display = "flex";
}

function closeModal(){
  modal.style.display = "none";
}
</script>

</body>
</html>

